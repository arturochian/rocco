/**
 * @license Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * @fileoverview
 * Registers a language handler for R.
 *
 *
 * "Name"    = 'R'
 * "Author"  = 'Chris DuBois'
 * "Version" = '0.1'
 * "About"   = 'R is a statistical programming environment.'
 *
 *
 * I used all functions in the base package (except the first 35).
 *
 *
 * @author chris.dubois@gmail.com
 */

PR['registerLangHandler'](
    PR['createSimpleLexer'](
        [
         // clojure has more paren types than minimal lisp.
    //     ['opn',             /^[\(\{\[]+/, null, '([{'],
      //   ['clo',             /^[\)\}\]]+/, null, ')]}'],
         // A line comment that starts with #
         [PR['PR_COMMENT'],     /^#[^\r\n]*/, null, ';'],
         // Whitespace
         [PR['PR_PLAIN'],       /^[\t\n\r \xA0]+/, null, '\t\n\r \xA0'],
         // A double quoted, possibly multi-line, string.
         [PR['PR_STRING'],      /^\"(?:[^\"\\]|\\[\s\S])*(?:\"|$)/, null, '"']
        ],
        [
         [PR['PR_KEYWORD'],     /^(?:abs|acos|acosh|addNA|addTaskCallback|agrep|alist|all|all.equal|all.equal.character|all.equal.default|all.equal.factor|all.equal.formula|all.equal.language|all.equal.list|all.equal.numeric|all.equal.POSIXct|all.equal.raw|all.names|all.vars|any|anyDuplicated|anyDuplicated.array|anyDuplicated.data.frame|anyDuplicated.default|anyDuplicated.matrix|aperm|aperm.default|aperm.table|append|apply|Arg|args|array|arrayInd|as.array|as.array.default|as.call|as.character|as.character.condition|as.character.Date|as.character.default|as.character.error|as.character.factor|as.character.hexmode|as.character.numeric_version|as.character.octmode|as.character.POSIXt|as.character.srcref|as.complex|as.data.frame|as.data.frame.array|as.data.frame.AsIs|as.data.frame.character|as.data.frame.complex|as.data.frame.data.frame|as.data.frame.Date|as.data.frame.default|as.data.frame.difftime|as.data.frame.factor|as.data.frame.integer|as.data.frame.list|as.data.frame.logical|as.data.frame.matrix|as.data.frame.model.matrix|as.data.frame.numeric|as.data.frame.numeric_version|as.data.frame.ordered|as.data.frame.POSIXct|as.data.frame.POSIXlt|as.data.frame.raw|as.data.frame.table|as.data.frame.ts|as.data.frame.vector|as.Date|as.Date.character|as.Date.date|as.Date.dates|as.Date.default|as.Date.factor|as.Date.numeric|as.Date.POSIXct|as.Date.POSIXlt|as.difftime|as.double|as.double.difftime|as.double.POSIXlt|as.environment|as.expression|as.expression.default|as.factor|as.function|as.function.default|as.hexmode|asin|asinh|as.integer|as.list|as.list.data.frame|as.list.Date|as.list.default|as.list.environment|as.list.factor|as.list.function|as.list.numeric_version|sections|as.list.POSIXct|as.logical|as.logical.factor|as.matrix|as.matrix.data.frame|as.matrix.default|as.matrix.noquote|as.matrix.POSIXlt|as.name|asNamespace|as.null|as.null.default|as.numeric|as.numeric_version|as.octmode|as.ordered|as.package_version|as.pairlist|as.POSIXct|as.POSIXct.date|as.POSIXct.Date|as.POSIXct.dates|as.POSIXct.default|as.POSIXct.numeric|as.POSIXct.POSIXlt|as.POSIXlt|as.POSIXlt.character|as.POSIXlt.date|as.POSIXlt.Date|as.POSIXlt.dates|as.POSIXlt.default|as.POSIXlt.factor|as.POSIXlt.numeric|as.POSIXlt.POSIXct|as.qr|as.raw|as.real|asS3|asS4|assign|as.single|as.single.default|as.symbol|as.table|as.table.default|as.vector|as.vector.factor|atan|atan2|atanh|attach|attachNamespace|attr|attr.all.equal|attributes|autoload|autoloader|backsolve|baseenv|basename|besselI|besselJ|besselK|besselY|beta|bindingIsActive|bindingIsLocked|bindtextdomain|body|bquote|break|browser|browserCondition|browserSetDebug|browserText|builtins|by|by.data.frame|by.default|bzfile|c|call|callCC|capabilities|casefold|cat|category|cbind|cbind.data.frame|c.Date|ceiling|character|char.expand|charmatch|charToRaw|chartr|check_tzones|chol|chol2inv|chol.default|choose|class|close|closeAllConnections|close.connection|close.srcfile|c.noquote|c.numeric_version|codes|codes.factor|codes.ordered|col|colMeans|colnames|colSums|commandArgs|comment|complex|computeRestarts|conditionCall|conditionCall.condition|conditionMessage|conditionMessage.condition|conflicts|Conj|contributors|cos|cosh|c.POSIXct|c.POSIXlt|crossprod|Cstack_info|cummax|cummin|cumprod|cumsum|cut|cut.Date|cut.default|cut.POSIXt|data.class|debug|debugonce|default.stringsAsFactors|delay|delayedAssign|deparse|det|detach|determinant|determinant.matrix|dget|diag|diff|diff.Date|diff.default|diff.POSIXt|difftime|digamma|dim|dim.data.frame|dimnames||dimnames.data.frame|dir|dir.create|dirname|do.call|double|dput|dQuote|drop|droplevels|droplevels.data.frame|droplevels.factor|dump|duplicated|duplicated.array|duplicated.data.frame|duplicated.default|duplicated.matrix|duplicated.numeric_version|duplicated.POSIXlt|dyn.load|dyn.unload|eapply|eigen|emptyenv|enc2native|enc2utf8|encodeString|Encoding|enquote|environment|environmentIsLocked|environmentName|env.profile|eval|eval.parent|evalq|exists|exp|expand.grid|expm1|expression|F|factor|factorial|fifo|file|file.access|file.append|file.choose|file.copy|file.create|file.exists|file.info|file.link|file.path|file.remove|file.rename|file.show|file.symlink|Filter|Find|findInterval|find.package|findPackageEnv|findRestart|floor|flush|flush.connection|for|force|formals|format|format.AsIs|formatC|format.char|format.data.frame|format.Date|format.default|format.difftime|formatDL|format.factor|format.hexmode|format.info|format.numeric_version|format.octmode|format.POSIXct|format.POSIXlt|format.pval|forwardsolve|function|gamma|gammaCody|gc|gcinfo|gc.time|gctorture|gctorture2|get|getAllConnections|getCallingDLL|getCallingDLLe|getCConverterDescriptions|getCConverterStatus|getConnection|getDLLRegisteredRoutines|getDLLRegisteredRoutines.character|getDLLRegisteredRoutines.DLLInfo|getenv|geterrmessage|getExportedValue|getHook|getLoadedDLLs|getNamespace|getNamespaceExports|getNamespaceImports|getNamespaceInfo|getNamespaceName|getNamespaceUsers|getNamespaceVersion|getNativeSymbolInfo|getNumCConverters|getOption|getRversion|getSrcLines|getTaskCallbackNames|gettext|gettextf|getwd|gl|globalenv|gregexpr|grep|grepl|grepRaw|gsub|gzcon|gzfile|.hexmode|httpclient|I|iconv|iconvlist|icuSetCollate|identical|identity|if|ifelse|Im|importIntoEnv|in|inherits|integer|interaction|interactive|intersect|intToBits|intToUtf8|inverse.rle|invisible|invokeRestart|invokeRestartInteractively|is.array|is.atomic|isatty|isBaseNamespace|is.call|is.character|is.complex|is.data.frame|isdebugged|is.double|is.element|is.environment|is.expression|is.factor|is.finite|is.function|isIncomplete|is.infinite|is.integer|is.language|is.list|is.loaded|is.logical|is.matrix|is.na||is.na.data.frame|is.name|isNamespace|is.nan|is.na.numeric_version|is.na.POSIXlt|is.null|is.numeric|is.numeric.Date|is.numeric.difftime|is.numeric.POSIXt|is.numeric_version|is.object|ISOdate|ISOdatetime|isOpen|is.ordered|is.package_version|is.pairlist|is.primitive|is.qr|is.R|is.raw|is.real|is.recursive|isRestart|isS4|isSeekable|is.single|is.symbol|isSymmetric|isSymmetric.matrix|is.table|isTRUE|is.unsorted|is.vector|jitter|julian|julian.Date|julian.POSIXt|kappa|kappa.default|kappa.lm|kappa.qr|kappa.tri|kronecker|l10n_info|labels|labels.default|La.chol|La.chol2inv|La.eigen|lapply|La.svd|lazyLoad|lazyLoadDBexec|lazyLoadDBfetch|lbeta|lchoose|length||length.POSIXlt|letters|LETTERS|levels|levels.default|lfactorial|lgamma|library|library.dynam|library.dynam.unload|licence|license|list|list2env|list.dirs|list.files|load|loadedNamespaces|loadingNamespaceInfo|loadNamespace|loadURL|local|lockBinding|lockEnvironment|log|log10|log1p|log2|logb|logical|lower.tri|ls|machine|Machine|makeActiveBinding|make.names|make.unique|manglePackageName|Map|mapply|margin.table|match|match.arg|match.call|match.fun|Math.data.frame|Math.Date|Math.difftime|Math.factor|Math.POSIXt|mat.or.vec|matrix|max|max.col|mean|mean.data.frame|mean.Date|mean.default|mean.difftime|mean.POSIXct|mean.POSIXlt|memCompress|memDecompress|mem.limits|memory.profile|merge|merge.data.frame|merge.default|message|mget|min|missing|Mod|mode|month.abb|month.name|months|months.Date|months.POSIXt|names|namespaceExport|namespaceImport|namespaceImportClasses|namespaceImportFrom|namespaceImportMethods|names.POSIXlt|nargs|nchar|ncol|NCOL|Negate|new.env|next|NextMethod|ngettext|nlevels|noquote|norm|normalizePath|nrow|NROW|numeric|numeric_version|nzchar|objects||.octmode|oldClass|on.exit|open|open.connection|open.srcfile|open.srcfilecopy|Ops.data.frame|Ops.Date|Ops.difftime|Ops.factor|Ops.numeric_version|Ops.ordered|Ops.POSIXt|options|order|ordered|outer|package.description|packageEvent|packageHasNamespace|packageStartupMessage|package_version|packBits|pairlist|parent.env|parent.frame|parse|parse.dcf|parseNamespaceFile|paste|path.expand|path.package|pentagamma|pi|pipe|Platform|pmatch|pmax|pmax.int|pmin|pmin.int|polyroot|Position||pos.to.env|pretty|pretty.default|prettyNum|print|print.AsIs|print.by|print.condition|print.connection|print.data.frame|print.Date|print.default|print.difftime|print.DLLInfo|print.DLLInfoList|print.DLLRegisteredRoutines|print.factor|print.function|print.hexmode|print.libraryIQR|print.listof|print.NativeRoutineList|printNoClass|print.noquote|print.numeric_version|print.octmode|print.packageInfo|print.POSIXct|print.POSIXlt|print.proc_time|print.restart|print.rle|print.simple.list|print.srcfile|print.srcref|print.summaryDefault|print.summary.table|print.table|print.warnings|prmatrix|proc.time|prod|prop.table|provide|psigamma|pushBack|pushBackLength|q|qr|qr.coef|qr.default|qr.fitted|qr.Q|qr.qty|qr.qy|qr.R|qr.resid|qr.solve|qr.X|quarters|quarters.Date|quarters.POSIXt|quit|quote|range|range.default|rank|rapply|raw|rawConnection|rawConnectionValue|rawShift|rawToBits|rawToChar|rbind|rbind.data.frame|rcond|Re|readBin|readChar|read.dcf|readline|readLines|readRDS|readRenviron|read.table.url|real|Recall|Reduce|regexpr|reg.finalizer|registerS3method|registerS3methods|remove|removeCConverter|removeTaskCallback|rep|rep.Date|repeat|rep.factor|rep.int|replace|replicate|rep.numeric_version|rep.POSIXct|rep.POSIXlt|require|restart|restartDescription|restartFormals|retracemem|return|rev|rev.default|R.home|rle|rm|RNGkind|RNGversion|round|round.Date|round.POSIXt|row|rowMeans|rownames|row.names|row.names|rownames|row.names.data.frame|row.names.data.frame|row.names.default|row.names.default|rowsum|rowsum.data.frame|rowsum.default|rowSums|R_system_version|R.version|R.Version|R.version.string|sample|sample.int|sapply|save|save.image|saveRDS|scale|scale.default|scan|scan.url|search|searchpaths|seek|seek.connection|seq|seq_along|seq.Date|seq.default|seq.int|seq_len|seq.POSIXt|sequence|serialize|setCConverterStatus|setdiff|setequal|setHook|setNamespaceInfo|set.seed|setSessionTimeLimit|setTimeLimit|setwd|showConnections|shQuote|sign|signalCondition|signif|simpleCondition|simpleError|simpleMessage|simpleWarning|simplify2array|sin|single|sinh|sink|sink.number|slice.index|socketConnection|socketSelect|solve|solve.default|solve.qr|sort|sort.default|sort.int|sort.list|sort.POSIXlt|source|source.url|split|split|split.data.frame|split.data.frame|split.Date|split.default|split.default|split.POSIXct|sprintf|sqrt|sQuote|srcfile|srcfilecopy|srcref|standardGeneric|stderr|stdin|stdout|stop|stopifnot|storage.mode|storage.mode|strftime|strptime|strsplit|strtoi|strtrim|structure|strwrap|sub|subset|subset.data.frame|subset.default|subset.matrix|substitute|substr|substr|substring|substring|sum|summary|summary.connection|summary.data.frame|Summary.data.frame|summary.Date|Summary.Date|summary.default|Summary.difftime|summary.factor|Summary.factor|summary.matrix|Summary.numeric_version|Summary.ordered|summary.POSIXct|Summary.POSIXct|summary.POSIXlt|Summary.POSIXlt|summary.srcfile|summary.srcref|summary.table|suppressMessages|suppressPackageStartupMessages|suppressWarnings|svd|sweep|switch|symbol.C|symbol.For|sys.call|sys.calls|Sys.chmod|Sys.Date|sys.frame|sys.frames|sys.function|Sys.getenv|Sys.getlocale|Sys.getpid|Sys.glob|Sys.info|sys.load.image|Sys.localeconv|sys.nframe|sys.on.exit|sys.parent|sys.parents|Sys.putenv|Sys.readlink|sys.save.image|Sys.setenv|Sys.setlocale|Sys.sleep|sys.source|sys.status|system|system2|system.file|system.time|Sys.time|Sys.timezone|Sys.umask|Sys.unsetenv|Sys.which|t|T|table|tabulate|tan|tanh|tapply|taskCallbackManager|tcrossprod|t.data.frame|t.default|tempdir|tempfile|testPlatformEquivalence|tetragamma|textConnection|textConnectionValue|tolower|topenv|toString|toString.default|toupper|trace|traceback|tracemem|tracingState|transform|transform.data.frame|transform.default|trigamma|trunc|truncate|truncate.connection|trunc.Date|trunc.POSIXt|try|tryCatch|typeof|unclass|undebug|union|unique|unique.array|unique.data.frame|unique.default|unique.matrix|unique.numeric_version|unique.POSIXlt|units|units|units.difftime|units.difftime|unix|unix.time|unlink|unlist|unloadNamespace|unlockBinding|unname|unserialize|unsplit|untrace|untracemem|unz|upper.tri|url|UseMethod|utf8ToInt|vapply|vector|Vectorize|version|Version|warning|warnings|weekdays|weekdays.Date|weekdays.POSIXt|which|which.max|which.min|while|with|withCallingHandlers|with.default|within|within.data.frame|within.list|withRestarts|withVisible|write|writeBin|writeChar|write.dcf|writeLines|write.table0|xor|xor.hexmode|xor.octmode|xpdrows.data.frame|xtfrm|xtfrm.AsIs|xtfrm.Date|xtfrm.default|xtfrm.difftime|xtfrm.factor|xtfrm.numeric_version|xtfrm.POSIXct|xtfrm.POSIXlt|xtfrm.Surv|xzfile|zapsmall)\b/, null],
         [PR['PR_TYPE'], /^:[0-9a-zA-Z\-]+/]
        ]),
    ['r']);
